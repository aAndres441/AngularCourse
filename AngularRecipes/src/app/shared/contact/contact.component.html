
<div class="container">
  <h2 style="text-align: center;"><q><u><i>REACTIVE FORM</i></u></q></h2>
  <div class="row">
    <div class="col-xs-12 col-sm-10 col-md-8 col-sm-offset-1 col-md-offset-2">
      <form [formGroup]='signupForm' (ngSubmit)="onSubmitReactiv()">
        <div class="form-group">
          <label for="username">Username</label>
          <!-- le enlaza el control input a la prop FormControl
              username  de ts, formControlName='username' -->
          <input
            formControlName='username' 
            type="text"
            id="username"
            class="form-control">
        </div>

        <span class="help-block" style="color: hotpink;"
              *ngIf="!signupForm.get('username').valid && signupForm.get('username').touched"
          >Please enter a valid username
        </span>

        <div class="form-group">
          <label for="email">email</label>
          <input
            formControlName='email'
            type="text"
            id="email"
            class="form-control">
        </div>

        <span class="help-block" style="color: hotpink;"
              *ngIf="!signupForm.get('email').valid && signupForm.get('email').touched"
          >Please enter a valid mail
        </span>
        
        <div class="radio"             
            *ngFor="let gender of genders" 
            style= "border: 1px solid rgb(234, 252, 71);">
          <label>
            <input 
              formControlName='gender'
              type="radio"
              [value]="gender"
            >
              {{ gender }}
          </label>
        </div>

        <button class="btn btn-warning" type="submit" style="width: 50%;">Submit</button>
      </form>
    </div>
  </div>

  <div class="row">
    <div class="col-xs-12" *ngIf="!signupForm.valid && signupForm.touched">
          <!-- *ngIf="!signupForm.get('username').valid; then logout else enter" 
          <ng-template #enter>
            <p style="text-align: center; ">
              <strong>EMITTER random <span style="color: royalblue;">{{isOkformReact}}</span></strong> </p>
          </ng-template>
          <ng-template #logout>
            <p style="text-align: center; ">
              <strong>EMITTER random = <span style="color: palevioletred;">{{isOkformReact}}</span></strong> </p>
          </ng-template> -->
      <p style="color: hotpink; text-align: center;">PLEASE ENTER VALID DATA !</p>
    </div>
  </div>
</div>

<hr style="border: 4px solid brown;">

<div class="container" >
    <div class="row"> 
      <h2 style="text-align: center;"> <q> <u> <i>TEMPLATE FORM</i> </u> </q></h2>

      <div class="col-xs-12 col-sm-10 col-md-8 col-sm-offset-1 col-md-offset-2">

        <!-- Valida todo el form con todos los controles -->
        <p *ngIf="!myUserData.valid && myUserData.touched" style="color: crimson; background-color: rgb(248, 248, 215);;">
          INVALID DATA 
        </p>
        <hr *ngIf="myUserData.valid || myUserData.touched" style="border: 3px solid green;">
        <br>
        
        <form  #myForm="ngForm" (ngSubmit)="onSubmit(myForm)" >
          <div id="user-data" 
                ngModelGroup="userData" 
                #myUserData="ngModelGroup"
                > 
                <!-- #myUserData="ngModelGroup", obtengo referencia al grupo -->

            <div class="form-group" >
              <label for="username">Username</label>
              <input 
                type="text" 
                id="username" 
                class="form-control"
                ngModel
                [(ngModel)]="suggestedName"
                #username="ngModel"
                name="username"
                required
                placeholder="*"
                title="username"
                minlength="2"
              >
            </div>

            <span 
              class="help-block"
              *ngIf="!username.valid && username.touched"
              >enter valid name
            </span>

            {{suggestedName}}
           <!--  <input type="text" [value]="username.value"> -->
            <button class="btn btn-info" 
              type="button"
              (click)="suggestUserName()"
              [disabled]="!myForm.valid"> <!-- si el form es invalido => deshabilita -->
                Suggest an Username
            </button>

            <span class="help-block"
              *ngIf="!elemail.valid && elemail.touched" 
              >Ingrese e-mail valido
            </span>

            <p #parrafo *ngIf="elemail.valid">Your mail is: {{mail}}</p>

            <div class="form-group">
              <label for="email">Mail</label>
              <input 
                type="email" 
                id="email" 
                class="form-control"
                #elemail="ngModel"                
                ngModel
                [(ngModel)]="mail"
                name="email"
                placeholder="E-mail"
                title="e-mail"
                required
                email                          
              >
               <!-- #elemail="ngModel", obtengo referencia a este control -->
            </div>            

          </div>

          <div class="form-group">
            <label for="secret">Secret Questions</label>
            <select 
              id="secret" 
              class="form-control"
              [ngModel] = "forDefaultQuestions" 
              name="secret" >
              <option value="pet">Your first Pet?</option>
              <option value="teacher">Your first teacher?</option>
            </select>
            <!--[ngModel] = "unaMascota" trae a la prop unaMascota  -->
          </div>

          <p>"carga unidereccional " + {{forDefaultQuestions}}</p>

          <h4>question</h4>
          <div class="form-group">
            <textarea 
              name="question"  
              rows="3"
              class="form-control"
              [(ngModel)]="answer"
              >
            </textarea>
            <!-- [(ngModel)]="answer" carga y trae la prop answer y la muestra en el area-->
          </div>

          <p>Your reply: {{answer}}</p>
          
        <div style="border: 1px solid green;">
          <label for="">Select gender</label>
          <div class="radio" *ngFor="let gender of genders">
            <label for="">
              <input type="radio"
                     name="gender" 
                     ngModel 
                     [ngModel] = "defaultRadio"
                     [value]="gender">
              {{gender}}
            </label>
          </div>
        </div>

          <button class="btn btn-primary" 
            type="submit" 
            style="width: 50%; border-color: yellowgreen; background-color: gray;">
              Submit
          </button>
          
        </form>
      </div>
    </div>
    <hr>
    <div class="row" style="border: 1px solid chartreuse;">
      <div class="col-xs-12" *ngIf="submitted">
        <h3 style="color: chartreuse;">Your Data, after submit data:</h3>
        <p>Username : {{ user.myUsernombre }}</p>
        <p>Mail: {{ user.myMail }}</p>
        <p>Secret Quedtion: {{ user.mySecretQuestion }}</p>
        <p>Answer: {{ user.myAnswer }}</p>
        <p>Gender: {{ user.myGender }}</p>
      </div>
    </div>
  </div>

  <hr style="border: 4px solid brown;">

  <div class="container">
    <!-- <em> <s> <b> <q> <u> <i> -->
    <div class="row">
      <h2 style="text-align: center;"><q><b><i>EXERCICE</i></b></q></h2>
      <div class="col-xs-12 col-sm-10 col-md-8 col-sm-offset-1 col-md-offset-2">
  
        <p id="messag" style="color: blueviolet;" class="help-block"
          *ngIf="!formEx.valid && formEx.touched"> Check for invalid data
        </p>
  
        <form (ngSubmit)="onSubmitExample(formEx)"
              #formEx="ngForm">
              <div id="exData" 
                  #exData="ngModelGroup"
                  ngModelGroup="exData" >
                  <!-- TENER EN CUENTA QUE PODRIA NO PONER  [(ngModel)]="xxx" en ninguno solo si default-->
                  <div class="form-group">
                    <label for="">Mail</label>
                    <input class="form-control"
                          type="email"
                          id="emmmail"
                          name="emmmail"
                          ngModel
                          [(ngModel)]="emmmail"
                          #emmail="ngModel"
                          email                        
                          required
                          title="Mail"
                          placeholder="**"
                          >
                  </div>
                  
                  <span style="color: rgb(163, 140, 8);"
                    class="help-block"
                    *ngIf="!emmail.valid && emmail.touched"
                    >Enter mail valid
                  </span>
  
                  <div class="form-group" >
                    <label for="">Select any subscription</label>
                    <select class="form-control"
                            name="subscription" 
                            id="subscription"
                            ngModel
                            [ngModel]="defaultSelect"
                            #subscription="ngModel"                          
                            >
                            <option *ngFor="let sus of subscriptions"
                             [value]="sus">{{sus}}</option>
                            
                    </select>
                  </div>                    
  
                  <div class="form-group">
                    <label for="">Password</label>
                    <input class="form-control"
                          type="password"    
                          id="password"
                          name="password"                     
                          ngModel
                          [(ngModel)]="myPass"                        
                          #password="ngModel"
                          required
                          title="Password"
                          placeholder="**">
                  </div>
  
                  <span style="color: rgb(163, 140, 8);"
                    class="help-block"
                    *ngIf="!password.valid && password.touched"
                    >Enter password valid
                  </span>
                  
                  <div class="form-group">
                    <label for="">City</label>
                    <input class="form-control"
                            type="text"
                            id="city"
                            name="city"
                            #city="ngModel"
                            ngModel
                            [(ngModel)]="theCitys"
                            required
                            placeholder="**"
                            title="City"
                            >
                  </div>
  
                  <span *ngIf="!city.valid && city.touched" style="color: goldenrod;">
                    The city not to be alowed  empty
                  </span>
  
                  <button type="submit"
                          [disabled]="!formEx.valid"
                          class="btn btn-warning"
                          style="width: 80%; border-color: yellowgreen; background-color: rgb(170, 248, 150);"
                          >Confirm Subscription
                  </button>                         
              </div>      
        </form>      
      </div>
    </div>
    <hr>  
    <div class="row">
      <div class="col-xs-12" 
          style="width:70%; color: darkolivegreen; border: 1px solid darkolivegreen"
          *ngIf="isOkform">
          <h3 style="color: chartreuse;">Data of subscription:</h3>
          <p>Mail : {{ theMail }}</p>
          <p>password: {{ thePass }}</p>
          <p>Subscription type: {{ theSubscr }}</p>
          <p>City: {{ theCity }}</p>
      </div>
    </div>
  </div>
  
  <hr style="border: 4px solid brown;">
